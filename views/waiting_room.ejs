<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>Dixit</title>
    </head>
 
    <body>
        <h1>Bienvenue sur le jeu Dixit !</h1>

        <p>Attendons que tout le monde soit prêt !</p>
        
        <div id="players"> En ligne : 
        <ul id="ul-list">
        <%
            for(var i = 0 ; i < players.length ; i++) {
        %>
        
            <li> <%= players[i] %> </li>

        <% } %>
        </ul>
        </div>

        <script src="/socket.io/socket.io.js"></script>
        <script>
            var socket = io.connect('http://localhost:50000');

            // Mise à jour de la liste des joueurs
            socket.on('new_player', function(pseudo) {
                var ul = document.getElementById("ul-list");
                var li = document.createElement("li");
                li.appendChild(document.createTextNode(pseudo));
                ul.appendChild(li);
            })

        </script>
    </body>
</html>